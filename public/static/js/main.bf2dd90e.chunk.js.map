{"version":3,"sources":["firebase/firebase.js","firebase/AuthContext.js","components/formComponents/Email.jsx","components/formComponents/Name.jsx","components/formComponents/Password.jsx","components/formComponents/PasswordConfirm.jsx","components/formComponents/SignInWithGoogle.jsx","components/formComponents/SignInWithMicrosoft.jsx","components/formComponents/SignInAlternatives.jsx","routes/SignUp.js","routes/CreateMeeting.js","images/graphic.jpeg","routes/Dashboard.js","routes/Login.js","routes/PrivateRoute.js","routes/PublicRoute.js","routes/ForgotPassword.js","routes/UpdateProfile.js","components/callComponents/JoinAlert.jsx","images/HangUpButton.png","components/callComponents/CopyRoomCodeButton.jsx","components/callComponents/ChatButton.jsx","components/callComponents/MicButton.jsx","components/callComponents/VideoButton.jsx","components/callComponents/ShareScreen.jsx","components/callComponents/ControlPanel.jsx","components/callComponents/MyVideoContainer.jsx","components/callComponents/PartnerVideoContainer.jsx","components/callComponents/ChatPanel.jsx","routes/Room.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","googleProvider","GoogleAuthProvider","msProvider","OAuthProvider","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updatePassword","updateName","name","updateProfile","displayName","googleSignIn","signInWithPopup","then","result","catch","error","console","log","msSignIn","Provider","Email","forwardedRef","Form","Group","Label","InputGroup","Control","type","required","ref","style","border","Append","backgroundColor","padding","size","color","Name","id","Password","className","Button","onClick","current","variant","borderRadius","PasswordConfirm","SignInWithGoogle","alt","marginRight","marginBottom","width","src","SignInWithMicrosoft","SignInAlternatives","maxWidth","margin","SignUp","emailRef","useRef","passwordRef","passwordConfirmRef","nameRef","setError","history","useHistory","e","a","preventDefault","photoURL","push","message","height","Alert","onSubmit","disabled","to","textDecoration","CreateMeeting","uuid","text","win","window","open","focus","Dashboard","idToCall","setIdToCall","providerData","providerId","Image","roundedCircle","placeholder","onChange","target","graphicImage","Login","PrivateRoute","Component","component","rest","render","props","PublicRoute","ForgotPassword","setMessage","marginTop","UpdateProfile","fontSize","promises","Promise","all","finally","defaultValue","JoinAlert","otherUserDeets","otherUserName","partner","userJoined","userLeft","CopyRoomCodeButton","roomID","copyAlertElement","document","getElementsByClassName","left","setTimeout","copyAlert","ChatButton","visibilityMsg","gotANewMessage","messageWindow","userVideoContainer","setVisibilityMsg","setGotANewMessage","moveIt","right","addEventListener","keyCode","MicButton","userStream","muteState","setMuteState","muteUnmute","getAudioTracks","enabled","VideoButton","socketRef","blindState","setBlindState","pauseVideo","getVideoTracks","emit","ShareScreen","senders","navigator","mediaDevices","getDisplayMedia","cursor","stream","screenTrack","getTracks","find","sender","track","kind","replaceTrack","onended","ControlPanel","close","HangUpBtn","MyVideoContainer","userVideo","autoPlay","muted","PartnerVideoContainer","partnerVideoGrid","otherUSerVideoVisible","partnerVideo","controls","ChatPanel","actualMessage","messageDiv","scrollToBottom","scrollTop","scrollHeight","on","messageText","senderName","messageDetails","createElement","classList","add","otherName","innerText","newMsg","append","otherMessage","yourName","selfMessage","videoConstraints","innerHeight","innerWidth","Room","match","params","peerRef","otherUser","init","setInint","setOtherUSerVideoVisible","setUserJoined","setUserLeft","setOtherUserDeets","setOtherUserName","setPartner","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","url","credential","username","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","createOffer","offer","setLocalDescription","payload","caller","sdp","localDescription","userObject","handleNegotiationNeededEvent","handleRecieveCall","incoming","desc","RTCSessionDescription","joinAlert","setRemoteDescription","forEach","addTrack","createAnswer","answer","handleAnswer","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","srcObject","streams","display","joinElement","getUserMedia","audio","video","io","connect","otherUserObject","callUser","alert","App","Container","maxHeight","atEnter","opacity","atLeave","atActive","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bf2dd90e.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport  'firebase'\r\n\r\n/**\r\n * This file initialises the firebase app so that it can be used throughout the web app\r\n */\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey:process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN, \r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, {useContext, useEffect, useState} from 'react'\r\nimport {auth} from './firebase'\r\nimport firebase from 'firebase';\r\n\r\n/**\r\n * This file contains all the authentication related functions \r\n * it exports the required functions and user details to various locations throughout the app wherever required\r\n */\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n    var googleProvider = new firebase.auth.GoogleAuthProvider()\r\n    var msProvider = new firebase.auth.OAuthProvider('microsoft.com')\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n\r\n    function signup(email, password){\r\n        //signup user usign email and password\r\n        return auth.createUserWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function login(email, password){\r\n        //log an existing user in using email and password\r\n        return auth.signInWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function logout(){\r\n        //signing out an existing user\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email){\r\n        //resetting password through Email (forgot password) (only for users signed in using email and password)\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updatePassword(password){\r\n        //changing password through tht update profile menu (only for users signed in using email and password)\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    function updateName(name){\r\n        //updating the user name (only for users signed in using email and password)\r\n        return currentUser.updateProfile({\r\n            displayName: name \r\n        })\r\n    }\r\n\r\n    function googleSignIn(){\r\n        // google authentication\r\n        firebase.auth()\r\n        .signInWithPopup(googleProvider)\r\n        .then((result) => {\r\n            // ...\r\n        }).catch((error) => {\r\n            console.log(error);\r\n            // ...\r\n        });\r\n    }\r\n\r\n    function msSignIn(){\r\n        //microsoft authentication\r\n        firebase.auth().signInWithPopup(msProvider)\r\n            .then((result) => {\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // Handle error.\r\n                console.log(error)\r\n            });\r\n\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const unsubscibe = auth.onAuthStateChanged(user =>{\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n        return unsubscibe\r\n    },[])\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        logout,\r\n        resetPassword,\r\n        updatePassword,\r\n        updateName,\r\n        googleSignIn,\r\n        msSignIn\r\n    }\r\n    return (\r\n        <AuthContext.Provider value = {value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup } from 'react-bootstrap'\r\nimport {Mailbox} from 'react-bootstrap-icons'\r\n\r\n/**\r\n * forwardedRef = email ref\r\n * this JSX element returns the EMAIL field in the form at the different locations throughout the app\r\n */\r\n\r\nexport default function Email({forwardedRef}) {\r\n    return (\r\n        <Form.Group>\r\n            <Form.Label>Email</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"email\" required ref = {forwardedRef} style={{border:\"none\"}}/>\r\n                <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                    <Mailbox size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup } from 'react-bootstrap'\r\nimport {FilePersonFill} from 'react-bootstrap-icons'\r\n\r\n/**\r\n * forwardedRef = name ref\r\n * this JSX element returns the NAME field in the form at the different locations throughout the app\r\n */\r\n\r\nexport default function Name({forwardedRef}) {\r\n    return (\r\n        <Form.Group id=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"text\" required ref = {forwardedRef} style={{border:\"none\"}}/>\r\n                <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                    <FilePersonFill size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup,Button } from 'react-bootstrap'\r\nimport {EyeFill} from 'react-bootstrap-icons'\r\n\r\n/**\r\n * forwardedRef = password ref\r\n * this JSX element returns the PASSWORD field in the form at the different locations throughout the app and \r\n * ability to toggle the visibility of the password\r\n */\r\n\r\nexport default function Password({forwardedRef}) {\r\n    \r\n    function togglePassword(){\r\n        //changing the password visibility\r\n        if(forwardedRef.current.type===\"password\"){\r\n            forwardedRef.current.type=\"text\";\r\n        } else {\r\n            forwardedRef.current.type=\"password\";\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form.Group id=\"password\" className=\"mt-3 mb-3\">\r\n            <Form.Label>Password</Form.Label>\r\n                <InputGroup>\r\n                    <Form.Control type=\"password\" required ref = {forwardedRef} style={{border:\"none\"}} />\r\n                    <InputGroup.Append>\r\n                        <Button onClick={togglePassword} variant=\"outline-secondary\" \r\n                        style={{backgroundColor:\"white\",border:\"none\", borderRadius:\"0px\",padding:\"8px\"}}>\r\n                            <EyeFill size={20} color=\"black\"/>\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup,Button } from 'react-bootstrap'\r\nimport {EyeFill} from 'react-bootstrap-icons'\r\n\r\n/**\r\n * forwardedRef = password confirm ref\r\n * this JSX element returns the CONFIRM PASSWORD field in the form at the different locations throughout the app and \r\n * ability to toggle its visibility \r\n */\r\n\r\nexport default function PasswordConfirm({forwardedRef}) {\r\n\r\n    function toggleCnfPassword(){\r\n        //changing the password visibility\r\n        if(forwardedRef.current.type===\"password\"){\r\n            forwardedRef.current.type=\"text\";\r\n        } else {\r\n            forwardedRef.current.type=\"password\";\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form.Group id=\"password-confirm\" className=\"mt-3 mb-3\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"password\" required ref = {forwardedRef} style={{border:\"none\"}} />\r\n                <InputGroup.Append>\r\n                    <Button onClick={toggleCnfPassword} variant=\"outline-secondary\" \r\n                    style={{backgroundColor:\"white\",border:\"none\", borderRadius:\"0px\",padding:\"8px\"}}>\r\n                        <EyeFill size={20} color=\"black\"/>\r\n                    </Button>\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\n\r\n/**\r\n * this JSX element returns the CONTINUE WITH GOOGLE BUTTON and it's functionaliy\r\n */\r\n\r\nexport default function SignInWithGoogle() {\r\n\r\n    const {googleSignIn} = useAuth()//google authentication function\r\n\r\n    return (\r\n        <Button className=\"w-100 mt-2 shadow\" style ={{backgroundColor:\"black\", border:\"none\"}} onClick = {googleSignIn}>\r\n            <img alt=\"Google\" style={{marginRight:\"4px\",marginBottom:\"2px\"}} width=\"20px\" \r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png\"/>\r\n        Continue with Google\r\n        </Button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\n\r\n/**\r\n * this JSX element returns the CONTINUE WITH MICROSOFT BUTTON and it's functionaliy\r\n */\r\n\r\nexport default function SignInWithMicrosoft() {\r\n\r\n    const {msSignIn} = useAuth()//Microsoft authentication function\r\n    \r\n    return (\r\n        <Button className=\"w-100 mt-2 shadow\" style ={{backgroundColor:\"black\", border:\"none\"}} onClick = {msSignIn}>\r\n            <img alt=\"Microsoft\" style={{marginRight:\"4px\",marginBottom:\"3px\"}} width=\"20px\" \r\n            src=\"https://image.flaticon.com/icons/png/512/732/732221.png\"/>\r\n        Continue with Microsoft\r\n        </Button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport SignInWithGoogle from './SignInWithGoogle'\r\nimport SignInWithMicrosoft from './SignInWithMicrosoft'\r\n\r\n/**\r\n * this JSX element is basically a collection of all alternative sign in methods wuch as Google and Microsoft \r\n * sign in\r\n */\r\n\r\nexport default function SignInAlternatives() {\r\n    return (\r\n        <div style={{maxWidth:\"400px\", margin:\"auto\"}} className=\"text-center\">\r\n            <SignInWithGoogle />\r\n            <span className=\"line-text\">or</span>\r\n            <SignInWithMicrosoft />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport '../styles/signUp.css'\r\nimport Email from '../components/formComponents/Email'\r\nimport Name from '../components/formComponents/Name'\r\nimport Password from '../components/formComponents/Password'\r\nimport PasswordConfirm from '../components/formComponents/PasswordConfirm'\r\nimport SignInAlternatives from '../components/formComponents/SignInAlternatives'\r\n\r\nexport default function SignUp() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const nameRef = useRef()\r\n    const { signup} = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    \r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value)\r\n        {\r\n            return setError('Passwords do not match!')\r\n        }\r\n\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value , passwordRef.current.value).then((result)=> {\r\n                return result.user.updateProfile({\r\n                    displayName: nameRef.current.value,\r\n                    photoURL:\"https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg\"\r\n                })\r\n            })\r\n            history.push(\"/\")\r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"d-flex out-div\">\r\n            <div className=\"signUp shadow\">\r\n                <div className=\"signUpContent\">\r\n                <h2 className=\"text-center mb-4\" style={{color:\"rgba(13,110,253,255)\"}}>Create an Account</h2>\r\n                <hr style={{height:\"2.5px\"}}/>\r\n                    {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                    <Form onSubmit = {handleSubmit}>\r\n\r\n                    <Name forwardedRef={nameRef} />\r\n                    \r\n                    <Email forwardedRef={emailRef}/>\r\n\r\n                    <Password forwardedRef ={passwordRef} />\r\n\r\n                    <PasswordConfirm forwardedRef = {passwordConfirmRef} />    \r\n                    \r\n                    <button disabled ={loading} type=\"submit\" className=\"mt-3 shadow signup-btn\">Sign Up</button>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n        <span style={{margin:\"auto\"}}>or</span>\r\n        <div className=\"options-box\">\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link to=\"/login\" style={{textDecoration:\"none\"}}>Log In</Link>\r\n            </div>\r\n            <span className=\"line-text\">or</span>\r\n            <SignInAlternatives />\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport '../styles/createMeeting.css'\r\n\r\n/**\r\n * #uses uuid to create uniquire room ids \r\n * #uses CopyToClipboard to automatically copy the room ID to the clipboard everytime a new room is created\r\n * #returns the create Room Button at the dashboard menu\r\n */\r\n\r\nexport default function CreateMeeting(){\r\n\r\n    const id = useRef(uuid())\r\n    function create() {\r\n        /**\r\n         * #makes a new room and then open it in a new tab\r\n         */\r\n        const win = window.open(`/meeting/${id.current}`,'_blank')\r\n        id.current = uuid();\r\n        win.focus()\r\n    }\r\n\r\n    return (\r\n        <CopyToClipboard text = {id.current}>\r\n        <button className=\"w-100 create-meeting-btn\" onClick={create}>Create Room</button>\r\n        </CopyToClipboard>\r\n    );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/graphic.dacc7cdc.jpeg\";","import React, {  useState } from 'react'\r\nimport { Button, Alert,Image,Form } from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport '../styles/dashBoard.css' \r\nimport CreateMeeting from './CreateMeeting';\r\nimport graphicImage from '../images/graphic.jpeg'\r\n\r\n/**\r\n * This is the dashboard page \r\n * consists of the create room button and the join room button \r\n * along with the update profile button(for users who signed up via emall), \r\n * basic profile detains and the logout button\r\n * #returns The Dashboard\r\n */\r\n\r\nexport default function Dashboard() {\r\n    const [idToCall, setIdToCall] = useState('');//used to determine the roomID to be joined taken from user input \r\n    const [error, setError] = useState('');//catching Errors \r\n    const {currentUser, logout} = useAuth();//getting current user and the log out function from the auth module\r\n    const history = useHistory()//used from touting\r\n    function callUser(){\r\n        /**\r\n         * getting user to join a cretain room from the code enterd\r\n         */\r\n        if(idToCall!==''){\r\n            //opening the room in the new tab\r\n            setError('')\r\n            const win = window.open(`/meeting/${idToCall}`,'_blank')\r\n            win.focus()\r\n        } else{\r\n            //If ID inputted is blank\r\n            setError('Enter room code!')\r\n        }\r\n    }\r\n    async function handleLogout(){\r\n        //Log Out function\r\n        setError('')\r\n        try {\r\n            await logout()\r\n            //On sucess rerouting back to the login page\r\n            history.push(\"/login\")\r\n        } catch {\r\n            setError('Failed to Log Out')\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        //preventing the default form action\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n            <div className=\"outt-div\">\r\n                <div className=\"d-flex menu-pic text-center\">\r\n                    {//conditional display of the update profile button if the user had signed up with emai rahter \r\n                    //than opting for the sign in with google/microsoft options\r\n                    currentUser.providerData[0].providerId === \"password\" &&(<>\r\n                            <Link to =\"/update-profile\" className=\"btn-primary shadow update-btn\">Update Profile</Link>\r\n                            <div className=\"vl\"></div>\r\n                            <div className=\"mt-2\"></div>\r\n                        </>)}\r\n                    {/**Profile Image */}\r\n                    <Image roundedCircle\r\n                    src ={currentUser.photoURL || \"https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg\"} alt=\"default\"\r\n                    style = {{height:\"40px\", width:\"40px\",padding:\"1px\"}} />\r\n                    {/**Name and Email of the logged in user user */}\r\n                    <div style={{padding:\"8px\", width:\"auto\"}}>\r\n                        <h5 className=\"mb-0\">{currentUser.displayName}</h5>\r\n                        <span>{currentUser.email}</span>\r\n                    </div>\r\n                    <div className=\"d-flex\">\r\n                        {/**The line between the name and the log out button */}\r\n                        <div className=\"vl\" />\r\n                        {/**Log out button */}\r\n                        <div className=\"mt-2\">\r\n                            <Button size=\"sm\" onClick ={handleLogout} className=\"shadow\">Log Out</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/**The Create room nad jin room form div */}         \r\n                <div className=\"d-flex\">\r\n                    <div  className=\"text-center call-menu shadow\">\r\n                    <CreateMeeting />\r\n                        <Form onSubmit = {handleSubmit}>\r\n                            <Form.Group id=\"name\" className=\"mt-3 form-men\">\r\n                                {/**Create Meeting element imported from CreateMeeting.js */}\r\n                                <span className=\"line-text mt-4 mb-4\">or</span>{/**The seprator line with or in between it */}\r\n                                {/**The input box element for the Room Code */}\r\n                                <Form.Control className=\"mt-3\" type=\"text\" placeholder=\"Enter Meeting Code\" \r\n                                    value = {idToCall} onChange = {(e)=>{setIdToCall(e.target.value)}}\r\n                                    />\r\n                                {/**Join Room Button */}\r\n                                <Form.Label className=\"w-100\"><button type = 'submit' className = \"mt-3 join-room-btn\" \r\n                                    onClick ={()=>callUser(idToCall)}>Join Room</button>\r\n                                </Form.Label>\r\n                            </Form.Group>\r\n                        </Form>\r\n                        {/**Error messages */}\r\n                        {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                    </div>\r\n                    {/**Image on the right at the dashboard */}\r\n                    <div className=\"img-graphic\">\r\n                        <Image className=\"actual-image\" roundedCircle src={graphicImage} height=\"500px\"/>\r\n                    </div>\r\n                </div>\r\n            </div>         \r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport Email from '../components/formComponents/Email'\r\nimport Password from '../components/formComponents/Password'\r\nimport SignInAlternatives from '../components/formComponents/SignInAlternatives'\r\nimport '../styles/login.css'\r\n\r\n/**\r\n * login via email and other auth methods \r\n * #returns the login page \r\n */\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n    \r\n    async function handleSubmit(e){\r\n        /**\r\n         * Login Function for email users \r\n         */\r\n        e.preventDefault()\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value , passwordRef.current.value)\r\n            history.push(\"/\")\r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"d-flex out-div\">\r\n        <div className = \"login shadow\">\r\n            <div className=\"loginContent\">\r\n            <h2 className=\"text-center mb-4 heading\" style={{color:\"rgba(13,110,253,255)\"}}>Log In</h2>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n                {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                    <Email forwardedRef={emailRef}/>{/**Email form element */}\r\n\r\n                    <Password forwardedRef ={passwordRef} /> {/**Passoword form element */}\r\n\r\n                    <button disabled ={loading} type=\"submit\" className=\"mt-2 shadow login-btn\">Log In</button>\r\n                    <div className=\"w-100 text-center mt-3\">\r\n                        <Link to =\"/forgot-password\" style={{textDecoration:\"none\"}}>Forgot Password?</Link>\r\n                    </div>\r\n                </Form>\r\n                <div className=\"text-center mt-2\">\r\n                    Don't have an account? <Link to =\"/signup\" style={{textDecoration:\"none\"}}>Sign Up</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <span style={{margin:\"auto\"}}>or</span>\r\n        <SignInAlternatives />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\n/**\r\n * \r\n * Private Route to prevent user from accessing dashborad \r\n * and other routes without signing in \r\n */\r\n\r\nexport default function PrivateRoute({component : Component, ...rest}) {\r\n\r\n    const {currentUser} = useAuth()\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render = {props =>{\r\n               return currentUser ? <Component {...props}/> : <Redirect to =\"/login\" />\r\n            }}\r\n            ></Route>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\n/**\r\n * Public routes which are in accessible while logged in \r\n * or accesible without sigining in\r\n */\r\n\r\nexport default function PublicRoute({component : Component, ...rest}) {\r\n\r\n    const {currentUser} = useAuth()\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render = {props =>{\r\n               return !currentUser ? <Component {...props}/> : <Redirect to =\"/\" />\r\n            }}\r\n            ></Route>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert,Button} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link } from 'react-router-dom'\r\nimport Email from '../components/formComponents/Email'\r\nimport '../styles/signUp.css' \r\n\r\n/**\r\n * Password recovery for users who signed up using email\r\n * #returns The Forgot Password Page\r\n */\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        try {\r\n            setMessage('')\r\n            setError('')\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('Check your inbox for further instructions!') \r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"out-div\">\r\n        <div className=\"form shadow\" style={{marginTop:\"15vh\"}}>\r\n            <div className=\"form-content\">\r\n            <h2 className=\"text-center mb-4\" style={{color:\"rgba(13,110,253,255)\"}}>Password Reset</h2>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n            {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                {message && <Alert variant = \"success\" >{message}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                    <Email forwardedRef = {emailRef} />{/**Email form element */}\r\n                    <Button disabled ={loading} type=\"submit\" className=\"w-100 mt-2\">Send Reset Password Link</Button>\r\n                </Form>\r\n            </div>\r\n            <div className=\"w-100 text-center mt-2\"><Link to=\"/login\" style={{textDecoration:\"none\"}}>Log In</Link></div>\r\n        <div className=\"w-100 text-center mt-2\">\r\n            Don't have an account? <Link to =\"/signup\" style={{textDecoration:\"none\"}}>Sign Up!</Link>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Button, Alert, InputGroup} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { Mailbox, FilePersonFill } from 'react-bootstrap-icons'\r\nimport Password from '../components/formComponents/Password'\r\nimport PasswordConfirm from '../components/formComponents/PasswordConfirm'\r\nimport '../styles/updateProfile.css'\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const nameRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser,updatePassword, updateName } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        setError('')\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value)\r\n        {\r\n            return setError('Passwords do not match!')\r\n        }\r\n\r\n        const promises = []\r\n        if(nameRef.current.value !== currentUser.displayName)\r\n        {\r\n            promises.push(updateName(nameRef.current.value))\r\n        }\r\n        if(passwordRef.current.value)\r\n        {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n        Promise.all(promises).then(()=> {\r\n            history.push('/')\r\n        }).catch(()=> {\r\n            setError('Failed to Update Account')\r\n        }).finally(()=>{\r\n            setLoading(false)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"out-div\">\r\n        <div className=\"shadow updateProf\">\r\n            <div className=\"content\">\r\n            <h2 className=\"text-center\" style={{color:\"rgba(13,110,253,255)\"}}>Update Profile</h2>\r\n            <h6 className=\"text-center\" style={{fontSize:\"10px\"}} >**Please type in the current passowrd in both fields if password change is not required</h6>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n                {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                <Form.Group id=\"name\">\r\n                        <Form.Label>Name</Form.Label>\r\n                        <InputGroup>\r\n                        <Form.Control type=\"text\" required ref = {nameRef} defaultValue = {currentUser.displayName}/>\r\n                            <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                                <FilePersonFill size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"email\" className=\"mt-1\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <InputGroup>\r\n                        <Form.Control type=\"email\" required ref = {emailRef} defaultValue = {currentUser.email} disabled/>\r\n                        <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                                <Mailbox size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                    \r\n                    <Password forwardedRef={passwordRef} />\r\n\r\n                    <PasswordConfirm forwardedRef={passwordConfirmRef} />\r\n                    <div className=\"w-100 text-center mt-3 d-flex\" >\r\n                        <Button disabled ={loading} type=\"submit\" >Update</Button>\r\n                        <Link className=\"shadow btn-primary backToDashBoard\" to=\"/\" style={{textDecoration:\"none\"}}>Back to Dashboard</Link>                    \r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Image } from 'react-bootstrap'\r\n\r\n/**\r\n * otherUserDeets = other user i.e the partner user object \r\n * otherUserName = name of the partner \r\n * partner = other user detals\r\n * userJoined = boolean for if the user(partner) has joined the call/room\r\n * userLeft = boolean for if the user(partner) has left the call/room\r\n * this component returns the join alert which appears on the screen when an user joins or exits a room\r\n */\r\n\r\nexport default function JoinAlert({otherUserDeets, otherUserName, partner, userJoined, userLeft}) {\r\n    return (\r\n        <div className=\"join-alert\">\r\n            {userJoined &&partner!=='' &&\r\n                (<>\r\n                    <Image roundedCircle className=\"img-thumbnail\" style ={{height:\"50px\", width:\"50px\",padding:\"1px\"}} src = {otherUserDeets.photoURL}/>\r\n                     <span className=\"join-name\">{otherUserName} has joined!</span>\r\n                 </>         \r\n                )\r\n            }\r\n            {userLeft && (\r\n                <span className=\"join-name\">{otherUserName} left!</span>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/HangUpButton.427d0f6c.png\";","import React from 'react'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { BsClipboard } from 'react-icons/bs'\r\n\r\n/**\r\n * Copy room code button\r\n * copies the current room code to clipboard \r\n * and then displays an alert that the room code has been copied \r\n */\r\n\r\nexport default function CopyRoomCodeButton({roomID}) {\r\n    \r\n    function copyAlert() {\r\n        //displays the alert that the code has been copied to the clipboard\r\n        const copyAlertElement = document.getElementsByClassName('copy-alert')[0]\r\n        copyAlertElement.style.left='0vw'\r\n        setTimeout(()=>{copyAlertElement.style.left=\"-90vw\"}, 3000)\r\n    }\r\n    return (\r\n        <div className=\"copy-to-clipboard\">\r\n            <span className=\"copy-alert shadow\">Copied!</span>\r\n            <CopyToClipboard text={roomID.current}>\r\n                <button className=\"shadow share-code-button\" onClick={()=> copyAlert()}><BsClipboard size={30}  color =\"white\"/></button>\r\n            </CopyToClipboard>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BsChatSquareFill, BsChatSquare, BsChatSquareDotsFill} from 'react-icons/bs'\r\n\r\n/**\r\n * visibilityMsg = boolean for if the message panel is visible\r\n * setVisibilityMsg = seeting the boolean value for if the message is visible i.e visibilityMsg\r\n * gotANewMessage = boolean for if a new message has arrived\r\n * setGotANewMessage = set the boolean value for if a new message has recieved i.e gotANewMessage\r\n * messageWindow = ref for the message window\r\n * userVideoContainer = the user(self) video container ref\r\n */\r\n\r\nexport default function ChatButton({visibilityMsg, gotANewMessage, messageWindow,userVideoContainer,setVisibilityMsg,setGotANewMessage}) {\r\n    function handleEsc(e){\r\n        //closing the chat panel with esx key\r\n        if(visibilityMsg && e.keyCode===27){\r\n            moveIt();\r\n        }\r\n    }\r\n\r\n    function moveIt(){\r\n        //Moves the chat panel into view\r\n        if(visibilityMsg){\r\n            //hiding the chat window\r\n            messageWindow.current.style.right =\"-60vw\"\r\n            userVideoContainer.current.style.left =\"74%\";\r\n            setVisibilityMsg(false)\r\n            setGotANewMessage(false)\r\n        } else {\r\n            //bringing the chat widow into view\r\n            messageWindow.current.style.right=\"1vw\"\r\n            userVideoContainer.current.style.left =\"45%\";\r\n            setVisibilityMsg(true)\r\n            setGotANewMessage(false)\r\n            \r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {document.addEventListener('keydown', handleEsc)}\r\n            {visibilityMsg?\r\n            (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquare size={25} /></button>):\r\n            ( gotANewMessage?\r\n                (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquareDotsFill size={25} color=\"darkgreen\" /></button>):\r\n                (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquareFill size={25} color=\"white\" /></button>) \r\n            )}\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport {BsFillMicMuteFill, BsFillMicFill} from 'react-icons/bs'\r\n\r\n/**\r\n * userStream = user media stream ref\r\n * muteState = boolean for if the user is muted \r\n * setMuteState = sets the boolean for if the user is muted ot not i.e muteState \r\n * this JSX element return the mic toggle element along with the function to mute or unmute the user audio\r\n */\r\n\r\nexport default function MicButton({userStream}) {\r\n\r\n    const [muteState, setMuteState] = useState(false)\r\n\r\n    function muteUnmute(){\r\n        //mutes/unmute the user \r\n        //pausing or resuming the audio stream basically\r\n        const enabled = userStream.current.getAudioTracks()[0].enabled;\r\n        if(enabled) {\r\n            userStream.current.getAudioTracks()[0].enabled = false\r\n            setMuteState(true)\r\n        }\r\n        else {\r\n            userStream.current.getAudioTracks()[0].enabled = true\r\n            setMuteState(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {muteState? //siaplaying the appropriate button to mute or unmute depending upon if the user is muted ot not\r\n            (<button className=\"control-button\" onClick={muteUnmute}><BsFillMicMuteFill className=\"mic-icon\" \r\n            size={30} style={{backgroundColor:\"red\"}}/></button>)\r\n            :(<button className=\"control-button\" onClick={muteUnmute}><BsFillMicFill className=\"mic-icon\" \r\n            size={30} style={{backgroundColor:\"white\"}}/></button>)}\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { BsCameraVideoFill, BsCameraVideo } from 'react-icons/bs';\r\n\r\n/**\r\n * userStream = current uesr video stream ref \r\n * roomID = details of the current room the user is in\r\n * socketRef = details of the current socket connection\r\n * blindState = boolean for if the video is turned off or not\r\n * setBlindState = sets the boolean for if the video is turned off i.e blindState\r\n * this JSX element returns a button to toggle video and its functions\r\n */\r\n\r\nexport default function VideoButton({userStream, roomID, socketRef}) {\r\n\r\n    const [blindState, setBlindState] = useState(false)\r\n\r\n    function pauseVideo(){\r\n        //pauses/resumes the video stream that is being sent to the partner or thte other user \r\n        const enabled = userStream.current.getVideoTracks()[0].enabled;\r\n        if(enabled){\r\n            //pausing the video stream\r\n            userStream.current.getVideoTracks()[0].enabled = false\r\n            setBlindState(true)\r\n            //letting the other user know that the video is turned off \r\n            socketRef.current.emit('other-user-video-off',roomID)\r\n        }\r\n        else {\r\n            //resuming the video stream \r\n            userStream.current.getVideoTracks()[0].enabled = true\r\n            //letting the other user know that the video is turned back on\r\n            socketRef.current.emit('other-user-video-on',roomID)\r\n            setBlindState(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {blindState?//choosing the appropriate toggle button depending upon the situation\r\n            (<button className=\"control-button\" onClick = {pauseVideo}><BsCameraVideo className = \"cam-icon\" \r\n             size={30} style={{backgroundColor:\"red\"}}/></button>)\r\n            :(<button className=\"control-button\" onClick = {pauseVideo}><BsCameraVideoFill className = \"cam-icon\" \r\n             size={30} style={{backgroundColor:\"white\"}}/></button>)\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\n/**\r\n * senders = ref of array of strams of the senders\r\n * userStream = current user stream\r\n * this JSX element returns the 'Share Screen' button in the call menu along with the functionality to \r\n * share one's screen\r\n */\r\n\r\nexport default function ShareScreen({senders, userStream}) {\r\n\r\n    function screenShare() {\r\n        //function allows toshare screen with the partner user basically swaps out the current video track\r\n        //with the the screen track\r\n        navigator.mediaDevices.getDisplayMedia({ cursor: true }).then(stream => {\r\n            const screenTrack = stream.getTracks()[0];\r\n            senders.current.find(sender => sender.track.kind === 'video').replaceTrack(screenTrack);\r\n            screenTrack.onended = function() {\r\n                senders.current.find(sender => sender.track.kind === \"video\").replaceTrack(userStream.current.getTracks()[1]);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <button className=\"screen-share\" onClick={()=>{screenShare()}}>Share Screen</button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport HangUpBtn from '../../images/HangUpButton.png'\r\nimport CopyRoomCodeButton from '../callComponents/CopyRoomCodeButton'\r\nimport ChatButton from '../callComponents/ChatButton';\r\nimport MicButton from '../callComponents/MicButton'\r\nimport VideoButton from '../callComponents/VideoButton'\r\nimport ShareScreen from './ShareScreen';\r\n\r\n/**\r\n * roomID = current room details\r\n * visibilityMsg = boolean for if the chat panel is visible\r\n * serVisibilityMsg = sets the boolean value for if the message window is visible or not  i/e visibilitMsg\r\n * gotANewMessage = boolean for if  a new maessage is recieved \r\n * setGotANewMessage = sets the boolean value for if a new message is recieved i.e gotANewMessage\r\n * messageWindow = message window div ref \r\n * userVideoContainer = user video or  self video div ref \r\n * userStream = user media stream ref\r\n * socketRef - current socket room details \r\n * sneders = array of streams from the senders \r\n */\r\n\r\nexport default function ControlPanel({roomID, visibilityMsg, gotANewMessage, \r\n    messageWindow, userVideoContainer, setVisibilityMsg, setGotANewMessage, \r\n    userStream, socketRef, senders}) {\r\n\r\n    function leaveCall() {\r\n    console.log('leave')\r\n    window.open('','_self').close()\r\n    }\r\n\r\n    return (\r\n        <div className =\"control-panel\">\r\n\r\n\r\n            \r\n            <CopyRoomCodeButton roomID = {roomID} />\r\n            <div className=\"control-panel-element\">\r\n                    <ChatButton visibilityMsg={visibilityMsg} gotANewMessage={gotANewMessage} messageWindow={messageWindow} \r\n                        userVideoContainer={userVideoContainer} setVisibilityMsg={setVisibilityMsg} setGotANewMessage={setGotANewMessage}\r\n                    />\r\n                </div>\r\n            \r\n                \r\n                <MicButton userStream={userStream} />\r\n\r\n            <img className=\"hang-up-btn\" onClick={() => leaveCall()} src = {HangUpBtn} alt=\"hang-up\"/>\r\n                \r\n                \r\n                \r\n                <VideoButton userStream={userStream} socketRef={socketRef} roomID={roomID.current} />\r\n\r\n                \r\n            <ShareScreen senders={senders} userStream={userStream} />\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\n/**\r\n * userVideoContainer = user video div ref\r\n * userVideo = user video stream ref \r\n * this JSX element returns the user(i.e self) video \r\n */\r\n\r\nexport default function MyVideoContainer({userVideoContainer, userVideo}) {\r\n    return (\r\n        <div className=\"my-video-container\" ref={userVideoContainer}>\r\n            <span className=\"my-name\">You</span>    \r\n            <video className=\"my-video\" autoPlay ref = {userVideo} muted />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Image } from 'react-bootstrap'\r\n\r\n/**\r\n * partnerVideoGrid =  partner video container div with name and the alt image \r\n * partner = other user or caller \r\n * otherUSerVisible = boolean for if the video of other user is visible \r\n * partnerVideo = ref for video stream of the caller/partner \r\n * this JSX element return the partner video, name and the alternative image for when the video si turned off\r\n */\r\n\r\nexport default function PartnerVideoContainer({partnerVideoGrid, partner,otherUSerVideoVisible,otherUserDeets,partnerVideo}) {\r\n    return (\r\n        <div className=\"partner-video-container\" ref ={partnerVideoGrid}>  \r\n            {\r\n                partner ===''&&\r\n                (\r\n                    <span className=\"default-message\">No one else is here</span>\r\n                )\r\n            }          \r\n            {!otherUSerVideoVisible && partner!=='' && //when the video is turned off the alt image is show which is profile pictue of the user \r\n            (\r\n                <div className=\"alt-image-vid-off\">\r\n                <Image roundedCircle className=\"alt-image-off img-thumbnail\" style ={{height:\"100px\", width:\"100px\",padding:\"1px\"}} src = {otherUserDeets.photoURL} />\r\n            </div>\r\n            )}  \r\n            {\r\n                partner!=='' &&(\r\n                    <>\r\n                    <video className=\"caller-video\" autoPlay ref = {partnerVideo} controls/>\r\n                    <span className=\"caller-name\">{partner}</span>\r\n                    </>\r\n                )\r\n            }\r\n                         \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Form,InputGroup } from 'react-bootstrap'\r\nimport { BsCursorFill } from 'react-icons/bs' \r\nimport { useAuth } from '../../firebase/AuthContext'\r\n\r\n/**\r\n * actualMessage = message to be sent \r\n * messageDiv = div with all the messages \r\n * socketref = current socket ref\r\n * setGotANewMessage = setting the boolean for if a new messate is recieved \r\n * roomID = current room details \r\n */\r\n\r\nexport default function ChatPanel({actualMessage, messageDiv, socketRef, setGotANewMessage, roomID}) {\r\n\r\n    const {currentUser} = useAuth()//details of the currently logged in user\r\n\r\n    useEffect(() => {\r\n        //receving a new message from the partner\r\n        socketRef.current.on('recieved a new message', ([recievedMessage, senderName]) => {\r\n            otherMessage(recievedMessage, senderName)\r\n            setGotANewMessage(true)\r\n            scrollToBottom()\r\n        })\r\n        // eslint-disable-next-line \r\n    },[]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function scrollToBottom() {\r\n        //scrolling to bottom of the message div automatically\r\n        messageDiv.current.scrollTop=messageDiv.current.scrollHeight;\r\n    }\r\n\r\n    function sendMessage(){\r\n        //sending a message in the chat \r\n        if(actualMessage.current.value!==\"\")\r\n        {\r\n            selfMessage(actualMessage.current.value);\r\n            scrollToBottom()\r\n            socketRef.current.emit('sending a message', ([actualMessage.current.value, currentUser.displayName, roomID]))\r\n            actualMessage.current.value=\"\"\r\n        }\r\n    }\r\n\r\n    function selfMessage(messageText) {\r\n        //adding the message onto the screen of the sender in the message div\r\n        var messageDetails = document.createElement('div')\r\n        messageDetails.classList.add('messageCard')\r\n        var yourName = document.createElement('p')\r\n        yourName.innerText = 'You'\r\n        yourName.classList.add('senderDetails')\r\n        yourName.classList.add('senderDetailsSelf')\r\n        var newMsg = document.createElement('p')\r\n        newMsg.innerText = messageText\r\n        newMsg.classList.add('msg')\r\n        messageDetails.append(yourName)\r\n        messageDetails.append(newMsg)\r\n        return (messageDiv.current.append(messageDetails))\r\n    }\r\n\r\n    function otherMessage(messageText, senderName) {\r\n        //adding the message recieved from the partner to the screen in the message div\r\n        var messageDetails = document.createElement('div')\r\n        messageDetails.classList.add('messageCard')\r\n        var otherName = document.createElement('p')\r\n        otherName.innerText = senderName\r\n        otherName.classList.add('senderDetails')\r\n        otherName.classList.add('senderDetailsOther')\r\n        var newMsg = document.createElement('p')\r\n        newMsg.innerText = messageText\r\n        newMsg.classList.add('msg')\r\n        messageDetails.append(otherName)\r\n        messageDetails.append(newMsg)\r\n        return (messageDiv.current.append(messageDetails))\r\n    }\r\n\r\n    return (\r\n        <div className =\"msg-box\">\r\n        {/**the message input box along with the send button*/}\r\n        <Form onSubmit={handleSubmit}>\r\n            <Form.Group id =\"message-input\">\r\n                <InputGroup>\r\n                    <Form.Control type=\"text\" style={{color:\"black\"}} ref={actualMessage} />\r\n                    <InputGroup.Append>\r\n                        <button style={{padding:\"8px\"}} onClick = {sendMessage} className=\"message-send-button\" ><BsCursorFill size={20} /></button> \r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Form.Group>\r\n        </Form>\r\n        </div>  \r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport io from 'socket.io-client'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport JoinAlert from '../components/callComponents/JoinAlert';\r\nimport ControlPanel from '../components/callComponents/ControlPanel'\r\nimport MyVideoContainer from '../components/callComponents/MyVideoContainer';\r\nimport PartnerVideoContainer from '../components/callComponents/PartnerVideoContainer'\r\nimport ChatPanel from '../components/callComponents/ChatPanel';\r\n\r\nimport '../styles/callStyles.css'\r\n\r\nconst videoConstraints = {\r\n    height: window.innerHeight,\r\n    width: window.innerWidth\r\n};\r\n\r\nexport default function Room(props) {\r\n    const {currentUser} = useAuth()\r\n    const roomID = useRef(props.match.params.roomID)\r\n    const userVideo = useRef()\r\n    const partnerVideo = useRef()\r\n    const peerRef = useRef()\r\n    const partnerVideoGrid = useRef()\r\n    const userVideoContainer = useRef()\r\n    const socketRef = useRef()\r\n    const otherUser = useRef()\r\n    const userStream = useRef()\r\n    const messageDiv = useRef()\r\n    const actualMessage = useRef()\r\n    const messageWindow = useRef()\r\n    const senders = useRef([])\r\n    const [init, setInint] = useState(true)\r\n    const [otherUSerVideoVisible, setOtherUSerVideoVisible] = useState(true)\r\n    const [visibilityMsg, setVisibilityMsg] = useState(false)\r\n    const [userJoined, setUserJoined] = useState(false)\r\n    const [userLeft, setUserLeft] = useState(false)\r\n    const [gotANewMessage, setGotANewMessage] = useState(false)\r\n    const [otherUserDeets, setOtherUserDeets] = useState()\r\n    const [otherUserName, setOtherUserName] = useState('')\r\n    const [partner, setPartner] = useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        //getting user media stream from the browser \r\n        navigator.mediaDevices.getUserMedia({ audio: true, video: videoConstraints }).then(stream => {\r\n            //adding source to the user(self) video stram\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect(\"/\"); //connecting to socket io\r\n            //letting other userd if any know that a new person has joined\r\n            socketRef.current.emit(\"join room\", ([props.match.params.roomID, currentUser]));\r\n\r\n            //if there already exists another user in the room\r\n            socketRef.current.on('other user', ([userID, otherUserObject]) => {\r\n                setInint(false)\r\n                callUser(userID);\r\n                setOtherUserDeets(otherUserObject)\r\n                setOtherUserName(otherUserObject.displayName)\r\n                setPartner(otherUserObject.displayName)\r\n                setUserJoined(true)\r\n                joinAlert()\r\n                setUserLeft(false)\r\n                otherUser.current = userID;\r\n                socketRef.current.emit('my name', currentUser.displayName)\r\n            });\r\n\r\n            //if a new user has joined the room\r\n            socketRef.current.on(\"user joined\", userID => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            //handling the recieved call from the other user or the offer of data\r\n            socketRef.current.on(\"offer\", handleRecieveCall);\r\n\r\n            //ansering the call\r\n            socketRef.current.on(\"answer\", handleAnswer);\r\n\r\n            //establishing the ICE server agreement \r\n            socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\r\n\r\n            //video toggle alert\r\n            socketRef.current.on('video off by other user',() => {\r\n                setOtherUSerVideoVisible(false)\r\n                partnerVideo.current.style.display = \"none\"\r\n            })\r\n\r\n            //video toggle alert\r\n            socketRef.current.on('video on by other user',() => {\r\n                setOtherUSerVideoVisible(true)\r\n                partnerVideo.current.style.display = \"block\"\r\n            })\r\n\r\n            //user disconnected alert\r\n            socketRef.current.on('user left', (userID) =>{\r\n                if(partnerVideo.current)\r\n                partnerVideo.current.style.display = \"none\"\r\n                if(peerRef.current)\r\n                peerRef.current.close()\r\n                console.log('userLeft')\r\n                console.log(userID)\r\n                setPartner('')\r\n                setUserJoined(false)\r\n                setUserLeft(true)\r\n                joinAlert()\r\n                console.log(userLeft)\r\n                setOtherUSerVideoVisible(true)\r\n            })\r\n        })\r\n        .catch(()=> {\r\n            //error message if the camera/mic is not found or permission is denied\r\n            alert('You can not join/create without providing permission for camera and mic input!')\r\n        })\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    function callUser(userID) {\r\n        //sendding an offer request \r\n        peerRef.current = createPeer(userID);\r\n        //adding the stram information to the peerObject\r\n        userStream.current.getTracks().forEach(track => senders.current.push(peerRef.current.addTrack(track, userStream.current)));\r\n    }\r\n\r\n    function createPeer(userID) {\r\n        //userID is the ID of the person the current user is trying to call\r\n        //creating a peer\r\n        const peer = new RTCPeerConnection({\r\n            iceServers: [\r\n                { urls: 'stun:stun.l.google.com:19302' },\r\n                { urls: 'stun:stun1.l.google.com:19302' },\r\n                { urls: 'stun:stun2.l.google.com:19302' },\r\n                { urls: 'stun:stun3.l.google.com:19302' },\r\n                { urls: 'stun:stun4.l.google.com:19302' },\r\n                \r\n                {\r\n                    url: 'turn:numb.viagenie.ca',\r\n                    credential: 'muazkh',\r\n                    username: 'webrtc@live.com'\r\n                },\r\n            ]\r\n        });\r\n        peer.onicecandidate = handleICECandidateEvent;\r\n        peer.ontrack = handleTrackEvent;\r\n        peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\r\n\r\n        return peer;\r\n    }\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        //negotiating the terms of the connection iand providing the offer data to the other user \r\n        peerRef.current.createOffer().then(offer => {\r\n            //self description i.e offer details\r\n            return peerRef.current.setLocalDescription(offer);\r\n        }).then(() => {\r\n            const payload = {\r\n                target: userID,\r\n                caller: socketRef.current.id,\r\n                sdp: peerRef.current.localDescription,//actally offer details\r\n                userObject: currentUser\r\n            };\r\n            socketRef.current.emit(\"offer\", payload);\r\n        }).catch(e => console.log(e));\r\n    }\r\n\r\n    function handleRecieveCall(incoming) {\r\n        //handeling the recieved call and providing with appropriate data in return to the user\r\n        peerRef.current = createPeer();\r\n        //other user offer details\r\n        const desc = new RTCSessionDescription(incoming.sdp);\r\n\r\n        if(incoming.userObject&&init) {\r\n            setUserJoined(true)\r\n            joinAlert()\r\n            setUserLeft(false)\r\n            setOtherUserDeets(incoming.userObject)\r\n            setOtherUserName(incoming.userObject.displayName)\r\n            setPartner(incoming.userObject.displayName)\r\n        }\r\n        peerRef.current.setRemoteDescription(desc).then(() => {\r\n            userStream.current.getTracks().forEach(track => senders.current.push(peerRef.current.addTrack(track, userStream.current)));\r\n        }).then(() => {\r\n            return peerRef.current.createAnswer();\r\n        }).then(answer => {\r\n            return peerRef.current.setLocalDescription(answer);\r\n        }).then(() => {\r\n            const payload = {\r\n                target: incoming.caller,\r\n                caller: socketRef.current.id,\r\n                sdp: peerRef.current.localDescription,\r\n                userObject: currentUser\r\n            }\r\n            socketRef.current.emit(\"answer\", payload);\r\n        })\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        //setting remote offer details\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        //ICE candidates agreement \r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n                userObject:currentUser\r\n            }\r\n            socketRef.current.emit(\"ice-candidate\", payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        //exchanging ice candidates\r\n        const candidate = new RTCIceCandidate(incoming);\r\n        peerRef.current.addIceCandidate(candidate)\r\n            .catch(e => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        //hadleing streams from the other user \r\n        partnerVideo.current.srcObject = e.streams[0];\r\n        partnerVideo.current.style.display = \"block\"\r\n    };\r\n\r\n    function joinAlert() {\r\n        //Alertung users if an user has left or joined\r\n        const joinElement = document.getElementsByClassName('join-alert')[0]\r\n        joinElement.style.left = \"2vw\";\r\n        setTimeout(()=>{joinElement.style.left=\"-50vw\"}, 3000)\r\n        if(joinElement.style.backgroundColor === \"seagreen\"){\r\n            joinElement.style.backgroundColor = \"red\";\r\n        } else {\r\n            joinElement.style.backgroundColor = \"seagreen\"\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"outer-box\">\r\n            <div className=\"video-container\">\r\n                {/**User Video */}\r\n                <MyVideoContainer userVideoContainer={userVideoContainer} userVideo={userVideo} />\r\n                {/**Partner/Caller Video and name */}\r\n                <PartnerVideoContainer partnerVideoGrid={partnerVideoGrid} partner={partner}\r\n                    otherUSerVideoVisible={otherUSerVideoVisible} otherUserDeets={otherUserDeets}\r\n                    partnerVideo={partnerVideo}\r\n                    />\r\n                {/**Chat Panel */}\r\n                <div ref = {messageWindow} className=\"msg-container\">\r\n                    <div ref={messageDiv} className=\"chat-window\"></div> \r\n                    <>\r\n                        {socketRef.current && //message input when connection is estabilshed to socket\r\n                        (<ChatPanel actualMessage={actualMessage} \r\n                            messageDiv={messageDiv} socketRef={socketRef} setGotANewMessage={setGotANewMessage} \r\n                            roomID={roomID.current}/>\r\n                        )}        \r\n                    </>\r\n                </div>\r\n            </div>\r\n            \r\n            {/**Join and leave alerts to the user */}\r\n            <JoinAlert otherUserDeets={otherUserDeets} otherUserName={otherUserName} \r\n                partner={partner} userJoined={userJoined} \r\n                userLeft={userLeft} \r\n                />\r\n            \r\n            {/**All the buttons icluding mic/video/chat toggle ,screen share and leave call */}\r\n            <ControlPanel roomID={roomID} visibilityMsg={visibilityMsg} gotANewMessage={gotANewMessage}\r\n                messageWindow={messageWindow} userVideoContainer={userVideoContainer} \r\n                setVisibilityMsg={setVisibilityMsg} setGotANewMessage={setGotANewMessage} \r\n                userStream={userStream} socketRef={socketRef} senders={senders}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport SignUp from './routes/SignUp';\r\nimport { AuthProvider } from './firebase/AuthContext';\r\nimport {Container} from 'react-bootstrap'\r\nimport Dashboard from './routes/Dashboard';\r\nimport Login from './routes/Login';\r\nimport PrivateRoute from './routes/PrivateRoute';\r\nimport PublicRoute from './routes/PublicRoute';\r\nimport ForgotPassword from './routes/ForgotPassword';\r\nimport UpdateProfile from './routes/UpdateProfile'\r\nimport Room from './routes/Room';\r\nimport {BrowserRouter as Router } from 'react-router-dom' \r\nimport {AnimatedSwitch} from 'react-router-transition'\r\n\r\nfunction App() {\r\n  return (\r\n        <Container className = \"d-flex align-items-center justify-content-center\" style={{maxHeight:\"100vh\", maxWidth:\"100vw\"}}>\r\n          <div className =\"w-100\">\r\n            <Router>\r\n              \r\n              <AuthProvider>\r\n                <AnimatedSwitch\r\n                    atEnter={{ opacity: 0 }}\r\n                    atLeave={{ opacity: 0 }}\r\n                    atActive={{ opacity: 1 }}\r\n                    className=\"switch-wrapper\"\r\n                  >\r\n                  <PrivateRoute exact path =\"/\" component ={Dashboard} />\r\n                  <PrivateRoute path =\"/update-profile\" component ={UpdateProfile} />\r\n                  <PrivateRoute path =\"/meeting/:roomID\" component ={Room} />\r\n                  <PublicRoute path=\"/signup\" component = {SignUp}/>\r\n                  <PublicRoute path = \"/login\" component = {Login} />\r\n                  <PublicRoute path = \"/forgot-password\" component = {ForgotPassword} />\r\n                </AnimatedSwitch>\r\n              </AuthProvider>\r\n            </Router>\r\n          </div>\r\n        </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './styles/callStyles.css'\nimport './styles/dashBoard.css'\nimport './styles/login.css'\nimport './styles/signUp.css'\n\n\ndocument.addEventListener('DOMContentLoaded', ()=> {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n})\n\n\n"],"sourceRoot":""}