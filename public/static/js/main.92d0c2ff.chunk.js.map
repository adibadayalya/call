{"version":3,"sources":["firebase/firebase.js","firebase/AuthContext.js","formComponents/Email.jsx","formComponents/Name.jsx","formComponents/Password.jsx","formComponents/PasswordConfirm.jsx","formComponents/SignInWithGoogle.jsx","formComponents/SignInWithMicrosoft.jsx","formComponents/SignInAlternatives.jsx","routes/SignUp.js","routes/CreateMeeting.js","images/graphic.jpeg","routes/Dashboard.js","routes/Login.js","routes/PrivateRoute.js","routes/PublicRoute.js","routes/ForgotPassword.js","routes/UpdateProfile.js","callComponents/JoinAlert.jsx","images/HangUpButton.png","callComponents/CopyRoomCodeButton.jsx","callComponents/ChatButton.jsx","callComponents/MicButton.jsx","callComponents/VideoButton.jsx","callComponents/ShareScreen.jsx","callComponents/ControlPanel.jsx","callComponents/MyVideoContainer.jsx","callComponents/PartnerVideoContainer.jsx","callComponents/ChatPanel.jsx","routes/Room.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","googleProvider","GoogleAuthProvider","msProvider","OAuthProvider","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updatePassword","updateName","name","updateProfile","displayName","googleSignIn","signInWithPopup","then","result","catch","error","console","log","msSignIn","Provider","Email","forwardedRef","Form","Group","Label","InputGroup","Control","type","required","ref","style","border","Append","backgroundColor","padding","size","color","Name","id","Password","className","Button","onClick","current","variant","borderRadius","PasswordConfirm","SignInWithGoogle","alt","marginRight","marginBottom","width","src","SignInWithMicrosoft","SignInAlternatives","maxWidth","margin","SignUp","emailRef","useRef","passwordRef","passwordConfirmRef","nameRef","setError","history","useHistory","e","a","preventDefault","photoURL","push","message","height","Alert","onSubmit","disabled","to","textDecoration","CreateMeeting","uuid","text","win","window","open","focus","Dashboard","idToCall","setIdToCall","providerData","providerId","Image","roundedCircle","placeholder","onChange","target","graphicImage","Login","PrivateRoute","Component","component","rest","render","props","PublicRoute","ForgotPassword","setMessage","marginTop","UpdateProfile","fontSize","promises","Promise","all","finally","defaultValue","JoinAlert","otherUserDeets","otherUserName","partner","userJoined","userLeft","CopyRoomCodeButton","roomID","copyAlertElement","document","getElementsByClassName","left","setTimeout","copyAlert","ChatButton","visibilityMsg","gotANewMessage","messageWindow","userVideoContainer","setVisibilityMsg","setGotANewMessage","moveIt","right","addEventListener","keyCode","MicButton","userStream","muteState","setMuteState","muteUnmute","getAudioTracks","enabled","VideoButton","socketRef","blindState","setBlindState","pauseVideo","getVideoTracks","emit","ShareScreen","senders","navigator","mediaDevices","getDisplayMedia","cursor","stream","screenTrack","getTracks","find","sender","track","kind","replaceTrack","onended","ControlPanel","close","HangUpBtn","MyVideoContainer","userVideo","autoPlay","muted","PartnerVideoContainer","partnerVideoGrid","otherUSerVideoVisible","partnerVideo","controls","ChatPanel","actualMessage","messageDiv","scrollToBottom","scrollTop","scrollHeight","on","messageText","senderName","messageDetails","createElement","classList","add","otherName","innerText","newMsg","append","otherMessage","yourName","selfMessage","videoConstraints","innerHeight","innerWidth","Room","match","params","peerRef","otherUser","init","setInint","setOtherUSerVideoVisible","setUserJoined","setUserLeft","setOtherUserDeets","setOtherUserName","setPartner","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","createOffer","offer","setLocalDescription","payload","caller","sdp","localDescription","userObject","handleNegotiationNeededEvent","handleRecieveCall","incoming","joinAlert","desc","RTCSessionDescription","setRemoteDescription","forEach","addTrack","createAnswer","answer","handleAnswer","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","srcObject","streams","display","joinElement","getUserMedia","audio","video","io","connect","otherUserObject","callUser","App","Container","maxHeight","atEnter","opacity","atLeave","atActive","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.92d0c2ff.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport  'firebase'\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey:process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN, \r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, {useContext, useEffect, useState} from 'react'\r\nimport {auth} from './firebase'\r\nimport firebase from 'firebase';\r\n\r\nconst AuthContext = React.createContext()\r\n\r\n\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n    var googleProvider = new firebase.auth.GoogleAuthProvider()\r\n    var msProvider = new firebase.auth.OAuthProvider('microsoft.com')\r\n    //console.log(Provider)\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n\r\n    function signup(email, password){\r\n        return auth.createUserWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function login(email, password){\r\n        return auth.signInWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function logout(){\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email){\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updatePassword(password){\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    function updateName(name){\r\n        return currentUser.updateProfile({\r\n            displayName: name \r\n        })\r\n    }\r\n\r\n    function googleSignIn(){\r\n        firebase.auth()\r\n        .signInWithPopup(googleProvider)\r\n        .then((result) => {\r\n            // ...\r\n        }).catch((error) => {\r\n            console.log(error);\r\n            // ...\r\n        });\r\n    }\r\n\r\n    function msSignIn(){\r\n        firebase.auth().signInWithPopup(msProvider)\r\n            .then((result) => {\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // Handle error.\r\n                console.log(error)\r\n            });\r\n\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const unsubscibe = auth.onAuthStateChanged(user =>{\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n        return unsubscibe\r\n    },[])\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        logout,\r\n        resetPassword,\r\n        updatePassword,\r\n        updateName,\r\n        googleSignIn,\r\n        msSignIn\r\n    }\r\n    return (\r\n        <AuthContext.Provider value = {value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup } from 'react-bootstrap'\r\nimport {Mailbox} from 'react-bootstrap-icons'\r\n\r\nexport default function Email({forwardedRef}) {\r\n    return (\r\n        <Form.Group>\r\n            <Form.Label>Email</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"email\" required ref = {forwardedRef} style={{border:\"none\"}}/>\r\n                <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                    <Mailbox size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup } from 'react-bootstrap'\r\nimport {FilePersonFill} from 'react-bootstrap-icons'\r\n\r\n\r\nexport default function Name({forwardedRef}) {\r\n    return (\r\n        <Form.Group id=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"text\" required ref = {forwardedRef} style={{border:\"none\"}}/>\r\n                <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                    <FilePersonFill size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup,Button } from 'react-bootstrap'\r\nimport {EyeFill} from 'react-bootstrap-icons'\r\n\r\n\r\nexport default function Password({forwardedRef}) {\r\n    function togglePassword(){\r\n        if(forwardedRef.current.type===\"password\"){\r\n            forwardedRef.current.type=\"text\";\r\n        } else {\r\n            forwardedRef.current.type=\"password\";\r\n        }\r\n    }\r\n    return (\r\n        <Form.Group id=\"password\" className=\"mt-3 mb-3\">\r\n            <Form.Label>Password</Form.Label>\r\n                <InputGroup>\r\n                    <Form.Control type=\"password\" required ref = {forwardedRef} style={{border:\"none\"}} />\r\n                    <InputGroup.Append>\r\n                        <Button onClick={togglePassword} variant=\"outline-secondary\" style={{backgroundColor:\"white\",border:\"none\", borderRadius:\"0px\",padding:\"8px\"}}><EyeFill size={20} color=\"black\"/></Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form, InputGroup,Button } from 'react-bootstrap'\r\nimport {EyeFill} from 'react-bootstrap-icons'\r\n\r\nexport default function PasswordConfirm({forwardedRef}) {\r\n    function toggleCnfPassword(){\r\n        if(forwardedRef.current.type===\"password\"){\r\n            forwardedRef.current.type=\"text\";\r\n        } else {\r\n            forwardedRef.current.type=\"password\";\r\n        }\r\n    }\r\n    return (\r\n        <Form.Group id=\"password-confirm\" className=\"mt-3 mb-3\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <InputGroup>\r\n                <Form.Control type=\"password\" required ref = {forwardedRef} style={{border:\"none\"}} />\r\n                <InputGroup.Append>\r\n                    <Button onClick={toggleCnfPassword} variant=\"outline-secondary\" style={{backgroundColor:\"white\",border:\"none\", borderRadius:\"0px\",padding:\"8px\"}}><EyeFill size={20} color=\"black\"/></Button>\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\nexport default function SignInWithGoogle() {\r\n    const {googleSignIn} = useAuth()\r\n    return (\r\n        <Button className=\"w-100 mt-2 shadow\" style ={{backgroundColor:\"black\", border:\"none\"}} onClick = {googleSignIn}>\r\n            <img alt=\"Google\" style={{marginRight:\"4px\",marginBottom:\"2px\"}} width=\"20px\" \r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png\"/>\r\n        Continue with Google</Button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\nexport default function SignInWithMicrosoft() {\r\n    const {msSignIn} = useAuth()\r\n    return (\r\n        <Button className=\"w-100 mt-2 shadow\" style ={{backgroundColor:\"black\", border:\"none\"}} onClick = {msSignIn}>\r\n            <img alt=\"Microsoft\" style={{marginRight:\"4px\",marginBottom:\"3px\"}} width=\"20px\" \r\n            src=\"https://image.flaticon.com/icons/png/512/732/732221.png\"/>\r\n        Continue with Microsoft</Button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport SignInWithGoogle from './SignInWithGoogle'\r\nimport SignInWithMicrosoft from './SignInWithMicrosoft'\r\n\r\nexport default function SignInAlternatives() {\r\n    return (\r\n        <div style={{maxWidth:\"400px\", margin:\"auto\"}} className=\"text-center\">\r\n            <SignInWithGoogle />\r\n            <span className=\"line-text\">or</span>\r\n            <SignInWithMicrosoft />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport '../styles/signUp.css'\r\nimport Email from '../formComponents/Email'\r\nimport Name from '../formComponents/Name'\r\nimport Password from '../formComponents/Password'\r\nimport PasswordConfirm from '../formComponents/PasswordConfirm'\r\nimport SignInAlternatives from '../formComponents/SignInAlternatives'\r\n\r\nexport default function SignUp() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const nameRef = useRef()\r\n    const { signup} = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    \r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value)\r\n        {\r\n            return setError('Passwords do not match!')\r\n        }\r\n\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value , passwordRef.current.value).then((result)=> {\r\n                return result.user.updateProfile({\r\n                    displayName: nameRef.current.value,\r\n                    photoURL:\"https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg\"\r\n                })\r\n            })\r\n            history.push(\"/\")\r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"d-flex out-div\">\r\n            <div className=\"signUp shadow\">\r\n                <div className=\"signUpContent\">\r\n                <h2 className=\"text-center mb-4\" style={{color:\"rgba(13,110,253,255)\"}}>Create an Account</h2>\r\n                <hr style={{height:\"2.5px\"}}/>\r\n                    {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                    <Form onSubmit = {handleSubmit}>\r\n\r\n                    <Name forwardedRef={nameRef} />\r\n                    \r\n                    <Email forwardedRef={emailRef}/>\r\n\r\n                    <Password forwardedRef ={passwordRef} />\r\n\r\n                    <PasswordConfirm forwardedRef = {passwordConfirmRef} />    \r\n                    \r\n                    <button disabled ={loading} type=\"submit\" className=\"mt-3 shadow signup-btn\">Sign Up</button>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n        <span style={{margin:\"auto\"}}>or</span>\r\n        <div className=\"options-box\">\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link to=\"/login\" style={{textDecoration:\"none\"}}>Log In</Link>\r\n            </div>\r\n            <span className=\"line-text\">or</span>\r\n            <SignInAlternatives />\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport '../styles/createMeeting.css'\r\n\r\n/**\r\n * #uses uuid to create uniquire room ids \r\n * #uses CopyToClipboard to automatically copy the room ID to the clipboard everytime a new room is created\r\n * #returns the create Room Button at the dashboard menu\r\n */\r\n\r\nexport default function CreateMeeting(){\r\n\r\n    const id = useRef(uuid())\r\n    function create() {\r\n        /**\r\n         * #makes a new room and then open it in a new tab\r\n         */\r\n        const win = window.open(`/meeting/${id.current}`,'_blank')\r\n        id.current = uuid();\r\n        win.focus()\r\n    }\r\n\r\n    return (\r\n        <CopyToClipboard text = {id.current}>\r\n        <button className=\"w-100 create-meeting-btn\" onClick={create}>Create Room</button>\r\n        </CopyToClipboard>\r\n    );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/graphic.dacc7cdc.jpeg\";","import React, {  useState } from 'react'\r\nimport { Button, Alert,Image,Form } from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport '../styles/dashBoard.css' \r\nimport CreateMeeting from './CreateMeeting';\r\nimport graphicImage from '../images/graphic.jpeg'\r\n\r\n/**\r\n * This is the dashboard page \r\n * consists of the create room button and the join room button \r\n * along with the update profile button(for users who signed up via emall), \r\n * basic profile detains and the logout button\r\n * #returns The Dashboard\r\n */\r\n\r\nexport default function Dashboard() {\r\n    const [idToCall, setIdToCall] = useState('');//used to determine the roomID to be joined taken from user input \r\n    const [error, setError] = useState('');//catching Errors \r\n    const {currentUser, logout} = useAuth();//getting current user and the log out function from the auth module\r\n    const history = useHistory()//used from touting\r\n    function callUser(){\r\n        /**\r\n         * getting user to join a cretain room from the code enterd\r\n         */\r\n        if(idToCall!==''){\r\n            //opening the room in the new tab\r\n            setError('')\r\n            const win = window.open(`/meeting/${idToCall}`,'_blank')\r\n            win.focus()\r\n        } else{\r\n            //If ID inputted is blank\r\n            setError('Enter room code!')\r\n        }\r\n    }\r\n    async function handleLogout(){\r\n        //Log Out function\r\n        setError('')\r\n        try {\r\n            await logout()\r\n            //On sucess rerouting back to the login page\r\n            history.push(\"/login\")\r\n        } catch {\r\n            setError('Failed to Log Out')\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        //preventing the default form action\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n            <div className=\"outt-div\">\r\n                <div className=\"d-flex menu-pic text-center\">\r\n                    {//conditional display of the update profile button if the user had signed up with emai rahter \r\n                    //than opting for the sign in with google/microsoft options\r\n                    currentUser.providerData[0].providerId === \"password\" &&(<>\r\n                            <Link to =\"/update-profile\" className=\"btn-primary shadow update-btn\">Update Profile</Link>\r\n                            <div className=\"vl\"></div>\r\n                            <div className=\"mt-2\"></div>\r\n                        </>)}\r\n                    {/**Profile Image */}\r\n                    <Image roundedCircle\r\n                    src ={currentUser.photoURL || \"https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg\"} alt=\"default\"\r\n                    style = {{height:\"40px\", width:\"40px\",padding:\"1px\"}} />\r\n                    {/**Name and Email of the logged in user user */}\r\n                    <div style={{padding:\"8px\", width:\"auto\"}}>\r\n                        <h5 className=\"mb-0\">{currentUser.displayName}</h5>\r\n                        <span>{currentUser.email}</span>\r\n                    </div>\r\n                    <div className=\"d-flex\">\r\n                        {/**The line between the name and the log out button */}\r\n                        <div className=\"vl\" />\r\n                        {/**Log out button */}\r\n                        <div className=\"mt-2\">\r\n                            <Button size=\"sm\" onClick ={handleLogout} className=\"shadow\">Log Out</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/**The Create room nad jin room form div */}         \r\n                <div className=\"d-flex\">\r\n                    <div  className=\"text-center call-menu shadow\">\r\n                        <Form onSubmit = {handleSubmit}>\r\n                            <Form.Group id=\"name\" className=\"mt-3 form-men\">\r\n                                <CreateMeeting />{/**Create Meeting element imported from CreateMeeting.js */}\r\n                                <span className=\"line-text mt-4 mb-4\">or</span>{/**The seprator line with or in between it */}\r\n                                {/**The input box element for the Room Code */}\r\n                                <Form.Control className=\"mt-3\" type=\"text\" placeholder=\"Enter Meeting Code\" \r\n                                    value = {idToCall} onChange = {(e)=>{setIdToCall(e.target.value)}}\r\n                                    />\r\n                                {/**Join Room Button */}\r\n                                <Form.Label className=\"w-100\"><button type = 'submit' className = \"mt-3 join-room-btn\" \r\n                                    onClick ={()=>callUser(idToCall)}>Join Room</button>\r\n                                </Form.Label>\r\n                            </Form.Group>\r\n                        </Form>\r\n                        {/**Error messages */}\r\n                        {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                    </div>\r\n                    {/**Image on the right at the dashboard */}\r\n                    <div className=\"img-graphic\">\r\n                        <Image className=\"actual-image\" roundedCircle src={graphicImage} height=\"500px\"/>\r\n                    </div>\r\n                </div>\r\n            </div>         \r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport Email from '../formComponents/Email'\r\nimport Password from '../formComponents/Password'\r\nimport SignInAlternatives from '../formComponents/SignInAlternatives'\r\n\r\nimport '../styles/login.css'\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n    \r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value , passwordRef.current.value)\r\n            history.push(\"/\")\r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"d-flex out-div\">\r\n        <div className = \"login shadow\">\r\n            <div className=\"loginContent\">\r\n            <h2 className=\"text-center mb-4 heading\" style={{color:\"rgba(13,110,253,255)\"}}>Log In</h2>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n                {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                    <Email forwardedRef={emailRef}/>\r\n\r\n                    <Password forwardedRef ={passwordRef} />\r\n\r\n                    <button disabled ={loading} type=\"submit\" className=\"mt-2 shadow login-btn\">Log In</button>\r\n                    <div className=\"w-100 text-center mt-3\">\r\n                        <Link to =\"/forgot-password\" style={{textDecoration:\"none\"}}>Forgot Password?</Link>\r\n                    </div>\r\n                </Form>\r\n                <div className=\"text-center mt-2\">\r\n                    Don't have an account? <Link to =\"/signup\" style={{textDecoration:\"none\"}}>Sign Up</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <span style={{margin:\"auto\"}}>or</span>\r\n        <SignInAlternatives />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\n\r\nexport default function PrivateRoute({component : Component, ...rest}) {\r\n\r\n    const {currentUser} = useAuth()\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render = {props =>{\r\n               return currentUser ? <Component {...props}/> : <Redirect to =\"/login\" />\r\n            }}\r\n            ></Route>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router'\r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\n\r\nexport default function PublicRoute({component : Component, ...rest}) {\r\n\r\n    const {currentUser} = useAuth()\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render = {props =>{\r\n               return !currentUser ? <Component {...props}/> : <Redirect to =\"/\" />\r\n            }}\r\n            ></Route>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Alert,Button} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link } from 'react-router-dom'\r\nimport Email from '../formComponents/Email'\r\nimport '../styles/signUp.css' \r\n\r\n/**\r\n * \r\n * #returns The Forgot Password Page\r\n */\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        try {\r\n            setMessage('')\r\n            setError('')\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('Check your inbox for further instructions!') \r\n        }\r\n        catch(e){\r\n            setError(e.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"out-div\">\r\n        <div className=\"form shadow\" style={{marginTop:\"15vh\"}}>\r\n            <div className=\"form-content\">\r\n            <h2 className=\"text-center mb-4\" style={{color:\"rgba(13,110,253,255)\"}}>Password Reset</h2>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n            {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                {message && <Alert variant = \"success\" >{message}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                    <Email forwardedRef = {emailRef} />\r\n                    <Button disabled ={loading} type=\"submit\" className=\"w-100 mt-2\">Send Reset Password Link</Button>\r\n                </Form>\r\n            </div>\r\n            <div className=\"w-100 text-center mt-2\"><Link to=\"/login\" style={{textDecoration:\"none\"}}>Log In</Link></div>\r\n        <div className=\"w-100 text-center mt-2\">\r\n            Don't have an account? <Link to =\"/signup\" style={{textDecoration:\"none\"}}>Sign Up!</Link>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport {Form, Button, Alert, InputGroup} from 'react-bootstrap'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { Mailbox, FilePersonFill } from 'react-bootstrap-icons'\r\nimport Password from '../formComponents/Password'\r\nimport PasswordConfirm from '../formComponents/PasswordConfirm'\r\nimport '../styles/updateProfile.css'\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const nameRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser,updatePassword, updateName } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        setError('')\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value)\r\n        {\r\n            return setError('Passwords do not match!')\r\n        }\r\n\r\n        const promises = []\r\n        if(nameRef.current.value !== currentUser.displayName)\r\n        {\r\n            promises.push(updateName(nameRef.current.value))\r\n        }\r\n        if(passwordRef.current.value)\r\n        {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n        Promise.all(promises).then(()=> {\r\n            history.push('/')\r\n        }).catch(()=> {\r\n            setError('Failed to Update Account')\r\n        }).finally(()=>{\r\n            setLoading(false)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"out-div\">\r\n        <div className=\"shadow updateProf\">\r\n            <div className=\"content\">\r\n            <h2 className=\"text-center\" style={{color:\"rgba(13,110,253,255)\"}}>Update Profile</h2>\r\n            <h6 className=\"text-center\" style={{fontSize:\"10px\"}} >**Please type in the current passowrd in both fields if password change is not required</h6>\r\n            <hr style={{height:\"2.5px\"}}/>\r\n                {error && <Alert variant = \"danger\" >{error}</Alert>}\r\n                <Form onSubmit = {handleSubmit}>\r\n                <Form.Group id=\"name\">\r\n                        <Form.Label>Name</Form.Label>\r\n                        <InputGroup>\r\n                        <Form.Control type=\"text\" required ref = {nameRef} defaultValue = {currentUser.displayName}/>\r\n                            <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                                <FilePersonFill size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"email\" className=\"mt-1\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <InputGroup>\r\n                        <Form.Control type=\"email\" required ref = {emailRef} defaultValue = {currentUser.email} disabled/>\r\n                        <InputGroup.Append style={{backgroundColor:\"white\", border:\"none\", padding:'8px'}}>\r\n                                <Mailbox size ={20} color=\"black\" style={{backgroundColor:\"white\"}} />\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                    \r\n                    <Password forwardedRef={passwordRef} />\r\n\r\n                    <PasswordConfirm forwardedRef={passwordConfirmRef} />\r\n                    <div className=\"w-100 text-center mt-3 d-flex\" >\r\n                        <Button disabled ={loading} type=\"submit\" >Update</Button>\r\n                        <Link className=\"shadow btn-primary backToDashBoard\" to=\"/\" style={{textDecoration:\"none\"}}>Back to Dashboard</Link>                    \r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Image } from 'react-bootstrap'\r\n\r\nexport default function JoinAlert({otherUserDeets, otherUserName, partner, userJoined, userLeft}) {\r\n    return (\r\n        <div className=\"join-alert\">\r\n            {userJoined &&partner!=='' &&\r\n                (<>\r\n                    <Image roundedCircle className=\"img-thumbnail\" style ={{height:\"50px\", width:\"50px\",padding:\"1px\"}} src = {otherUserDeets.photoURL}/>\r\n                     <span className=\"join-name\">{otherUserName} has joined!</span>\r\n                 </>         \r\n                )\r\n            }\r\n            {userLeft && (\r\n                <span className=\"join-name\">{otherUserName} got Sick of you!</span>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/HangUpButton.427d0f6c.png\";","import React from 'react'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { BsClipboard } from 'react-icons/bs'\r\n\r\nexport default function CopyRoomCodeButton({roomID}) {\r\n    function copyAlert() {\r\n        const copyAlertElement = document.getElementsByClassName('copy-alert')[0]\r\n        copyAlertElement.style.left='0vw'\r\n        setTimeout(()=>{copyAlertElement.style.left=\"-90vw\"}, 3000)\r\n    }\r\n    return (\r\n        <div className=\"copy-to-clipboard\">\r\n            <span className=\"copy-alert shadow\">Copied!</span>\r\n            <CopyToClipboard text={roomID.current}>\r\n                <button className=\"shadow share-code-button\" onClick={()=> copyAlert()}><BsClipboard size={30}  color =\"white\"/></button>\r\n            </CopyToClipboard>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BsChatSquareFill, BsChatSquare, BsChatSquareDotsFill} from 'react-icons/bs'\r\n\r\n\r\n\r\nexport default function ChatButton({visibilityMsg, gotANewMessage, messageWindow,userVideoContainer,setVisibilityMsg,setGotANewMessage}) {\r\n    function handleEsc(e){\r\n        if(visibilityMsg && e.keyCode===27){\r\n            moveIt();\r\n        }\r\n    }\r\n\r\n    function moveIt(){\r\n        if(visibilityMsg){\r\n            messageWindow.current.style.right =\"-60vw\"\r\n            userVideoContainer.current.style.left =\"74%\";\r\n            setVisibilityMsg(false)\r\n            setGotANewMessage(false)\r\n        } else {\r\n            messageWindow.current.style.right=\"1vw\"\r\n            userVideoContainer.current.style.left =\"45%\";\r\n            setVisibilityMsg(true)\r\n            setGotANewMessage(false)\r\n            \r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {document.addEventListener('keydown', handleEsc)}\r\n            {visibilityMsg?\r\n            (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquare size={25} /></button>):\r\n            ( gotANewMessage?\r\n                (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquareDotsFill size={25} color=\"darkgreen\" /></button>):\r\n                (<button onClick={moveIt} className=\"message-toggle\"><BsChatSquareFill size={25} color=\"white\" /></button>) \r\n            )}\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport {BsFillMicMuteFill, BsFillMicFill} from 'react-icons/bs'\r\n\r\nexport default function MicButton({userStream}) {\r\n\r\n    const [muteState, setMuteState] = useState(false)\r\n\r\n    function muteUnmute(){\r\n        const enabled = userStream.current.getAudioTracks()[0].enabled;\r\n        if(enabled) {\r\n            userStream.current.getAudioTracks()[0].enabled = false\r\n            setMuteState(true)\r\n        }\r\n        else {\r\n            userStream.current.getAudioTracks()[0].enabled = true\r\n            setMuteState(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {muteState?\r\n            (<button className=\"control-button\" onClick={muteUnmute}><BsFillMicMuteFill className=\"mic-icon\" size={30} style={{backgroundColor:\"red\"}}/></button>)\r\n            :(<button className=\"control-button\" onClick={muteUnmute}><BsFillMicFill className=\"mic-icon\" size={30} style={{backgroundColor:\"white\"}}/></button>)}\r\n\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { BsCameraVideoFill, BsCameraVideo } from 'react-icons/bs';\r\n\r\nexport default function VideoButton({userStream, roomID, socketRef}) {\r\n\r\n    const [blindState, setBlindState] = useState(false)\r\n\r\n    function pauseVideo(){\r\n        const enabled = userStream.current.getVideoTracks()[0].enabled;\r\n        if(enabled){\r\n            userStream.current.getVideoTracks()[0].enabled = false\r\n            setBlindState(true)\r\n            socketRef.current.emit('other-user-video-off',roomID)\r\n        }\r\n        else {\r\n            userStream.current.getVideoTracks()[0].enabled = true\r\n            socketRef.current.emit('other-user-video-on',roomID)\r\n            setBlindState(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {blindState?(<button className=\"control-button\" onClick = {pauseVideo}><BsCameraVideo className = \"cam-icon\"  size={30} style={{backgroundColor:\"red\"}}/></button>)\r\n            :(<button className=\"control-button\" onClick = {pauseVideo}><BsCameraVideoFill className = \"cam-icon\"  size={30} style={{backgroundColor:\"white\"}}/></button>)\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ShareScreen({senders, userStream}) {\r\n\r\n    function screenShare() {\r\n        navigator.mediaDevices.getDisplayMedia({ cursor: true }).then(stream => {\r\n            const screenTrack = stream.getTracks()[0];\r\n            senders.current.find(sender => sender.track.kind === 'video').replaceTrack(screenTrack);\r\n            screenTrack.onended = function() {\r\n                senders.current.find(sender => sender.track.kind === \"video\").replaceTrack(userStream.current.getTracks()[1]);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <button className=\"screen-share\" onClick={()=>{screenShare()}}>Share Screen</button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport HangUpBtn from '../images/HangUpButton.png'\r\nimport CopyRoomCodeButton from '../callComponents/CopyRoomCodeButton'\r\nimport ChatButton from '../callComponents/ChatButton';\r\nimport MicButton from '../callComponents/MicButton'\r\nimport VideoButton from '../callComponents/VideoButton'\r\nimport ShareScreen from './ShareScreen';\r\n\r\nexport default function ControlPanel({roomID, visibilityMsg, gotANewMessage, \r\n    messageWindow, userVideoContainer, setVisibilityMsg, setGotANewMessage, \r\n    userStream, socketRef, senders}) {\r\n\r\n    function leaveCall() {\r\n    console.log('leave')\r\n    window.open('','_self').close()\r\n    }\r\n\r\n    return (\r\n        <div className =\"control-panel\">\r\n\r\n\r\n            \r\n            <CopyRoomCodeButton roomID = {roomID} />\r\n            <div className=\"control-panel-element\">\r\n                    <ChatButton visibilityMsg={visibilityMsg} gotANewMessage={gotANewMessage} messageWindow={messageWindow} \r\n                        userVideoContainer={userVideoContainer} setVisibilityMsg={setVisibilityMsg} setGotANewMessage={setGotANewMessage}\r\n                    />\r\n                </div>\r\n            \r\n                \r\n                <MicButton userStream={userStream} />\r\n\r\n            <img className=\"hang-up-btn\" onClick={() => leaveCall()} src = {HangUpBtn} alt=\"hang-up\"/>\r\n                \r\n                \r\n                \r\n                <VideoButton userStream={userStream} socketRef={socketRef} roomID={roomID.current} />\r\n\r\n                \r\n            <ShareScreen senders={senders} userStream={userStream} />\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function MyVideoContainer({userVideoContainer, userVideo}) {\r\n    return (\r\n        <div className=\"my-video-container\" ref={userVideoContainer}>\r\n            <span className=\"my-name\">You</span>    \r\n            <video className=\"my-video\" autoPlay ref = {userVideo} muted />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Image } from 'react-bootstrap'\r\n\r\nexport default function PartnerVideoContainer({partnerVideoGrid, partner,otherUSerVideoVisible,otherUserDeets,partnerVideo}) {\r\n    return (\r\n        <div className=\"partner-video-container\" ref ={partnerVideoGrid}>  \r\n            {\r\n                partner ===''&&\r\n                (\r\n                    <span className=\"default-message\">You are Alone</span>\r\n                )\r\n            }          \r\n            {!otherUSerVideoVisible && partner!=='' && \r\n            (\r\n                <div className=\"alt-image-vid-off\">\r\n                <Image roundedCircle className=\"alt-image-off img-thumbnail\" style ={{height:\"100px\", width:\"100px\",padding:\"1px\"}} src = {otherUserDeets.photoURL} />\r\n            </div>\r\n            )}  \r\n            {\r\n                partner!=='' &&(\r\n                    <>\r\n                    <video controls className=\"caller-video\" autoPlay ref = {partnerVideo} />\r\n                    <span className=\"caller-name\">{partner}</span>\r\n                    </>\r\n                )\r\n            }\r\n                         \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Form,InputGroup } from 'react-bootstrap'\r\nimport { BsCursorFill } from 'react-icons/bs' \r\nimport { useAuth } from '../firebase/AuthContext'\r\n\r\nexport default function ChatPanel({actualMessage, messageDiv, socketRef, setGotANewMessage, roomID}) {\r\n\r\n    const {currentUser} = useAuth()\r\n\r\n    useEffect(() => {\r\n        \r\n        socketRef.current.on('recieved a new message', ([recievedMessage, senderName]) => {\r\n            //setPartner(senderName)\r\n            otherMessage(recievedMessage, senderName)\r\n            setGotANewMessage(true)\r\n            scrollToBottom()\r\n        })\r\n        // eslint-disable-next-line \r\n    },[]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function scrollToBottom() {\r\n        messageDiv.current.scrollTop=messageDiv.current.scrollHeight;\r\n    }\r\n\r\n    function sendMessage(){\r\n        if(actualMessage.current.value!==\"\")\r\n        {\r\n            selfMessage(actualMessage.current.value);\r\n            scrollToBottom()\r\n            socketRef.current.emit('sending a message', ([actualMessage.current.value, currentUser.displayName, roomID]))\r\n            actualMessage.current.value=\"\"\r\n        }\r\n    }\r\n\r\n    function selfMessage(messageText) {\r\n        var messageDetails = document.createElement('div')\r\n        messageDetails.classList.add('messageCard')\r\n        var yourName = document.createElement('p')\r\n        yourName.innerText = 'You'\r\n        yourName.classList.add('senderDetails')\r\n        yourName.classList.add('senderDetailsSelf')\r\n        var newMsg = document.createElement('p')\r\n        newMsg.innerText = messageText\r\n        newMsg.classList.add('msg')\r\n        messageDetails.append(yourName)\r\n        messageDetails.append(newMsg)\r\n        return (messageDiv.current.append(messageDetails))\r\n    }\r\n\r\n    function otherMessage(messageText, senderName) {\r\n        var messageDetails = document.createElement('div')\r\n        messageDetails.classList.add('messageCard')\r\n        var otherName = document.createElement('p')\r\n        otherName.innerText = senderName\r\n        otherName.classList.add('senderDetails')\r\n        otherName.classList.add('senderDetailsOther')\r\n        var newMsg = document.createElement('p')\r\n        newMsg.innerText = messageText\r\n        newMsg.classList.add('msg')\r\n        messageDetails.append(otherName)\r\n        messageDetails.append(newMsg)\r\n        return (messageDiv.current.append(messageDetails))\r\n    }\r\n\r\n    return (\r\n        <div className =\"msg-box\">\r\n        <Form onSubmit={handleSubmit}>\r\n            <Form.Group id =\"message-input\">\r\n                <InputGroup>\r\n                    <Form.Control type=\"text\" style={{color:\"black\"}} ref={actualMessage} />\r\n                    <InputGroup.Append>\r\n                        <button style={{padding:\"8px\"}} onClick = {sendMessage} className=\"message-send-button\" ><BsCursorFill size={20} /></button> \r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Form.Group>\r\n        </Form>\r\n        </div>  \r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport io from 'socket.io-client'\r\nimport { useAuth } from '../firebase/AuthContext'\r\nimport JoinAlert from '../callComponents/JoinAlert';\r\nimport ControlPanel from '../callComponents/ControlPanel'\r\nimport MyVideoContainer from '../callComponents/MyVideoContainer';\r\nimport PartnerVideoContainer from '../callComponents/PartnerVideoContainer'\r\nimport ChatPanel from '../callComponents/ChatPanel';\r\n\r\nimport '../styles/callStyles.css'\r\n\r\nconst videoConstraints = {\r\n    height: window.innerHeight,\r\n    width: window.innerWidth\r\n};\r\n\r\nexport default function Room(props) {\r\n    const {currentUser} = useAuth()\r\n    const roomID = useRef(props.match.params.roomID)\r\n    const userVideo = useRef()\r\n    const partnerVideo = useRef()\r\n    const peerRef = useRef()\r\n    const partnerVideoGrid = useRef()\r\n    const userVideoContainer = useRef()\r\n    const socketRef = useRef()\r\n    const otherUser = useRef()\r\n    const userStream = useRef()\r\n    const messageDiv = useRef()\r\n    const actualMessage = useRef()\r\n    const messageWindow = useRef()\r\n    const senders = useRef([])\r\n    const [init, setInint] = useState(true)\r\n    const [otherUSerVideoVisible, setOtherUSerVideoVisible] = useState(true)\r\n    const [visibilityMsg, setVisibilityMsg] = useState(false)\r\n    const [userJoined, setUserJoined] = useState(false)\r\n    const [userLeft, setUserLeft] = useState(false)\r\n    const [gotANewMessage, setGotANewMessage] = useState(false)\r\n    const [otherUserDeets, setOtherUserDeets] = useState()\r\n    const [otherUserName, setOtherUserName] = useState('')\r\n    const [partner, setPartner] = useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        navigator.mediaDevices.getUserMedia({ audio: true, video: videoConstraints }).then(stream => {\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect(\"/\");\r\n            socketRef.current.emit(\"join room\", ([props.match.params.roomID, currentUser]));\r\n\r\n            socketRef.current.on('other user', ([userID, otherUserObject]) => {\r\n                setInint(false)\r\n                callUser(userID);\r\n                setOtherUserDeets(otherUserObject)\r\n                setOtherUserName(otherUserObject.displayName)\r\n                setPartner(otherUserObject.displayName)\r\n                setUserJoined(true)\r\n                joinAlert()\r\n                setUserLeft(false)\r\n                otherUser.current = userID;\r\n                socketRef.current.emit('my name', currentUser.displayName)\r\n            });\r\n\r\n            socketRef.current.on(\"user joined\", userID => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on(\"offer\", handleRecieveCall);\r\n\r\n            socketRef.current.on(\"answer\", handleAnswer);\r\n\r\n            socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\r\n\r\n            socketRef.current.on('video off by other user',() => {\r\n                setOtherUSerVideoVisible(false)\r\n                partnerVideo.current.style.display = \"none\"\r\n            })\r\n\r\n            socketRef.current.on('video on by other user',() => {\r\n                setOtherUSerVideoVisible(true)\r\n                partnerVideo.current.style.display = \"block\"\r\n            })\r\n\r\n            socketRef.current.on('user left', (userID) =>{\r\n                if(partnerVideo.current)\r\n                partnerVideo.current.style.display = \"none\"\r\n                if(peerRef.current)\r\n                peerRef.current.close()\r\n                console.log('userLeft')\r\n                console.log(userID)\r\n                setPartner('')\r\n                setUserJoined(false)\r\n                setUserLeft(true)\r\n                joinAlert()\r\n                console.log(userLeft)\r\n                setOtherUSerVideoVisible(true)\r\n            })\r\n        });\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    function callUser(userID) {\r\n        peerRef.current = createPeer(userID);\r\n        userStream.current.getTracks().forEach(track => senders.current.push(peerRef.current.addTrack(track, userStream.current)));\r\n    }\r\n\r\n    function createPeer(userID) {\r\n        const peer = new RTCPeerConnection({\r\n            iceServers: [\r\n                {\r\n                    urls: \"stun:stun.stunprotocol.org\"\r\n                },\r\n                {\r\n                    urls: 'turn:numb.viagenie.ca',\r\n                    credential: 'turnServerPass',\r\n                    username: 'abadayalya@gmail.com'\r\n                },\r\n            ]\r\n        });\r\n\r\n        peer.onicecandidate = handleICECandidateEvent;\r\n        peer.ontrack = handleTrackEvent;\r\n        peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\r\n\r\n        return peer;\r\n    }\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        peerRef.current.createOffer().then(offer => {\r\n            return peerRef.current.setLocalDescription(offer);\r\n        }).then(() => {\r\n            const payload = {\r\n                target: userID,\r\n                caller: socketRef.current.id,\r\n                sdp: peerRef.current.localDescription,\r\n                userObject: currentUser\r\n            };\r\n            socketRef.current.emit(\"offer\", payload);\r\n        }).catch(e => console.log(e));\r\n    }\r\n\r\n    function handleRecieveCall(incoming) {\r\n        peerRef.current = createPeer();\r\n        if(incoming.userObject&&init) {\r\n            setUserJoined(true)\r\n            joinAlert()\r\n            setUserLeft(false)\r\n            setOtherUserDeets(incoming.userObject)\r\n            setOtherUserName(incoming.userObject.displayName)\r\n            setPartner(incoming.userObject.displayName)\r\n        }\r\n        const desc = new RTCSessionDescription(incoming.sdp);\r\n        peerRef.current.setRemoteDescription(desc).then(() => {\r\n            userStream.current.getTracks().forEach(track => senders.current.push(peerRef.current.addTrack(track, userStream.current)));\r\n        }).then(() => {\r\n            return peerRef.current.createAnswer();\r\n        }).then(answer => {\r\n            return peerRef.current.setLocalDescription(answer);\r\n        }).then(() => {\r\n            const payload = {\r\n                target: incoming.caller,\r\n                caller: socketRef.current.id,\r\n                sdp: peerRef.current.localDescription,\r\n                userObject: currentUser\r\n            }\r\n            socketRef.current.emit(\"answer\", payload);\r\n        })\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n                userObject:currentUser\r\n            }\r\n            socketRef.current.emit(\"ice-candidate\", payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        const candidate = new RTCIceCandidate(incoming);\r\n        peerRef.current.addIceCandidate(candidate)\r\n            .catch(e => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        partnerVideo.current.srcObject = e.streams[0];\r\n        partnerVideo.current.style.display = \"block\"\r\n    };\r\n\r\n    function joinAlert() {\r\n        const joinElement = document.getElementsByClassName('join-alert')[0]\r\n        joinElement.style.left = \"2vw\";\r\n        setTimeout(()=>{joinElement.style.left=\"-50vw\"}, 3000)\r\n        if(joinElement.style.backgroundColor === \"seagreen\"){\r\n            joinElement.style.backgroundColor = \"red\";\r\n        } else {\r\n            joinElement.style.backgroundColor = \"seagreen\"\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"outer-box\">\r\n            <div className=\"video-container\">\r\n\r\n                <MyVideoContainer userVideoContainer={userVideoContainer} userVideo={userVideo} />\r\n\r\n                <PartnerVideoContainer partnerVideoGrid={partnerVideoGrid} partner={partner}\r\n                    otherUSerVideoVisible={otherUSerVideoVisible} otherUserDeets={otherUserDeets}\r\n                    partnerVideo={partnerVideo}\r\n                    />\r\n                    \r\n                <div ref = {messageWindow} className=\"msg-container\">\r\n                    <div ref={messageDiv} className=\"chat-window\"></div> \r\n                    <>\r\n                        {socketRef.current &&\r\n                        (<ChatPanel actualMessage={actualMessage} \r\n                            messageDiv={messageDiv} socketRef={socketRef} setGotANewMessage={setGotANewMessage} \r\n                            roomID={roomID.current}/>\r\n                        )}        \r\n                    </>\r\n                </div>\r\n            </div>\r\n\r\n            <JoinAlert otherUserDeets={otherUserDeets} otherUserName={otherUserName} \r\n                partner={partner} userJoined={userJoined} \r\n                userLeft={userLeft} \r\n                />\r\n            \r\n\r\n            <ControlPanel roomID={roomID} visibilityMsg={visibilityMsg} gotANewMessage={gotANewMessage}\r\n                messageWindow={messageWindow} userVideoContainer={userVideoContainer} \r\n                setVisibilityMsg={setVisibilityMsg} setGotANewMessage={setGotANewMessage} \r\n                userStream={userStream} socketRef={socketRef} senders={senders}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport SignUp from './routes/SignUp';\r\nimport { AuthProvider } from './firebase/AuthContext';\r\nimport {Container} from 'react-bootstrap'\r\nimport Dashboard from './routes/Dashboard';\r\nimport Login from './routes/Login';\r\nimport PrivateRoute from './routes/PrivateRoute';\r\nimport PublicRoute from './routes/PublicRoute';\r\nimport ForgotPassword from './routes/ForgotPassword';\r\nimport UpdateProfile from './routes/UpdateProfile'\r\nimport Room from './routes/Room';\r\n\r\nimport {BrowserRouter as Router } from 'react-router-dom' \r\nimport {AnimatedSwitch} from 'react-router-transition'\r\n\r\nfunction App() {\r\n  return (\r\n        <Container className = \"d-flex align-items-center justify-content-center\" style={{maxHeight:\"100vh\", maxWidth:\"100vw\"}}>\r\n          <div className =\"w-100\">\r\n            <Router>\r\n              \r\n              <AuthProvider>\r\n                <AnimatedSwitch\r\n                    atEnter={{ opacity: 0 }}\r\n                    atLeave={{ opacity: 0 }}\r\n                    atActive={{ opacity: 1 }}\r\n                    className=\"switch-wrapper\"\r\n                  >\r\n                  <PrivateRoute exact path =\"/\" component ={Dashboard} />\r\n                  <PrivateRoute path =\"/update-profile\" component ={UpdateProfile} />\r\n                  <PrivateRoute path =\"/meeting/:roomID\" component ={Room} />\r\n                  <PublicRoute path=\"/signup\" component = {SignUp}/>\r\n                  <PublicRoute path = \"/login\" component = {Login} />\r\n                  <PublicRoute path = \"/forgot-password\" component = {ForgotPassword} />\r\n                </AnimatedSwitch>\r\n              </AuthProvider>\r\n            </Router>\r\n          </div>\r\n        </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './styles/callStyles.css'\nimport './styles/dashBoard.css'\nimport './styles/login.css'\nimport './styles/signUp.css'\n\n\ndocument.addEventListener('DOMContentLoaded', ()=> {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n})\n\n\n"],"sourceRoot":""}